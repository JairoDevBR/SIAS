<div class="container chat"
  data-controller="chat-subscription"
  data-chat-subscription-chat-id-value="<%= @chat.id %>"
>
  <h1>#<%= @chat.name %></h1>

  <div class="posts" data-chat-subscription-target="posts">
    <% @chat.posts.each do |post| %>
      <%= render "posts/post", post: post %>
    <% end %>
  </div>
  <%= simple_form_for [@chat, @post],
    html: {class: "d-flex",
    data: { chat_subscription_target: 'form' }} do |f| %>
        <%= f.input :content,
          label: false,
          placeholder: "Post ##{@chat.name}",
          wrapper_html: {class: "flex-grow-1"} %>
        <%= f.submit "Send", class: "btn btn-primary mb-3" %>
      <% end %>
</div>
